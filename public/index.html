<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no, user-scalable=no"
    />
    <title>WikiStreets</title>

    <!-- JQUERY -->
    <script
      type="text/javascript"
      src="/static/frameworks/jquery/jquery.min.js"
    ></script>

    <!-- BOOTSTRAP -->
    <script
      type="text/javascript"
      src="/static/frameworks/bootstrap/js/bootstrap.bundle.js"
    ></script>
    <link
      rel="stylesheet"
      type="text/css"
      href="/static/frameworks/bootstrap/css/bootstrap.min.css"
    />

    <!-- LEAFLET.JS -->
    <link
      rel="stylesheet"
      href="https://unpkg.com/leaflet@1.6.0/dist/leaflet.css"
      integrity="sha512-xwE/Az9zrjBIphAcBb3F6JVqxf46+CDLwfLMHloNu6KEQCAWi6HcDUbeOfBIptF7tcCzusKFjFw2yuvEpDL9wQ=="
      crossorigin=""
    />
    <script
      src="https://unpkg.com/leaflet@1.6.0/dist/leaflet.js"
      integrity="sha512-gZwIG9x3wUXg2hdXF6+rVkLF/0Vi9U8D2Ntg4Ga5I5BZpVkVxlJWbSQtXPSiUTtC0TjtGOmxa1AJPuV0CPthew=="
      crossorigin=""
    ></script>

    <!-- LEAFLET EXTRA MARKERS PLUGIN -->
    <link
      href="/static/frameworks/fontawesome-free-5.12.1-web/css/all.css"
      rel="stylesheet"
    />
    <!--load all styles -->
    <link
      rel="stylesheet"
      href="/static/frameworks/leaflet.extra-markers/css/leaflet.extra-markers.min.css"
    />
    <script src="/static/frameworks/leaflet.extra-markers/js/leaflet.extra-markers.min.js"></script>

    <!-- LEAFLET MARKER CLUSTERS PLUGIN -->
    <link
      rel="stylesheet"
      href="/static/frameworks/leaflet.markercluster/MarkerCluster.css"
    />
    <link
      rel="stylesheet"
      href="/static/frameworks/leaflet.markercluster/MarkerCluster.Default.css"
    />
    <script src="/static/frameworks/leaflet.markercluster/leaflet.markercluster-src.js"></script>

    <!-- CUSTOM -->
    <link rel="stylesheet" type="text/css" href="/static/css/main.css" />
    <script type="text/javascript" src="/static/js/global.js"></script>
  </head>
  <body>
    <header>
      <h1 class="logo display-4">WikiStreets</h1>
    </header>

    <section class="issue-map">
      <div id="map">loading map...</div>

        <div class="control-map-selector dropdown">
          <button
            class="map-title btn btn-secondary dropdown-toggle"
            type="button"
            id="dropdownMenuButton"
            data-toggle="dropdown"
            aria-haspopup="true"
            aria-expanded="false"
          ></button>
          <div class="dropdown-menu dropdown-menu-left p-4">
            <form
              method="POST"
              action="/map/title"
              enctype="multipart/form-data"
            >
              <div class="form-group">
                <label for="mapTitle">Rename this map:</label>
                <input
                  class="form-control"
                  type="text"
                  name="mapTitle"
                  id="mapTitle"
                  maxlength="29"
                />
              </div>
              <button type="submit" class="btn btn-primary">Save</button>
            </form>
            <div class="dropdown-divider"></div>
            <div class="form-group">
              <p>
                <a href="#" class="signin-link">Sign in</a> to view your saved
                maps.
              </p>
            </div>
          </div><!-- .dropdown-menu -->
        </div><!-- .control-map-selector -->
      </div><!-- #map -->
      <!-- //.row-->

      <div class="map-controls">
        <div class="map-control control-add-issue">
          <img
            data-toggle="tooltip"
            data-placement="top"
            alt="Place a new marker"
            title="Place a new marker"
            src="/static/images/material_design_icons/add_circle_outline-24px.svg"
          />
        </div>

        <div class="map-control control-find-location">
          <img
            data-toggle="tooltip"
            data-placement="top"
            alt="Find my location"
            title="Find my location"
            src="/static/images/material_design_icons/gps_off-24px.svg"
          />
        </div>

        <div class="map-control control-search-address">
          <img
            data-toggle="tooltip"
            data-placement="top"
            alt="Search by address"
            title="Search by address"
            src="/static/images/material_design_icons/search-24px.svg"
          />
        </div>

        <div class="map-control control-fork-map">
          <img
            data-toggle="tooltip"
            data-placement="top"
            alt="Fork this map"
            title="Fork this map"
            src="/static/images/material_design_icons/call_split-24px.svg"
          />
        </div>

        <!-- <div class="map-control control-download-data">
        <a href="/markers/kml">
          <img
            data-toggle="tooltip"
            data-placement="top"
            alt="Download KML data file"
            title="Download KML data file"
            src="/static/images/material_design_icons/cloud_download-24px.svg"
          />
        </a>
      </div> -->
      </div>
      <div class="clear"></div>
      <!-- // .map-controls -->
    </section>

    <!-- info window -->
    <section class="info-window">
      <!-- info window icons -->
      <!-- <img class="close-icon" src="/static/images/material_design_icons/close-24px.svg" /> -->

      <address
        class="instructions street-address alert alert-info"
        role="alert"
      >
        Welcome!
      </address>

      <section class="info-window-content"></section>
    </section>
    <!-- // info window -->

    <!-- search address -->
    <div class="search-address-form-container hide">
      <form action="/search" method="POST" class="row">
        <input
          class="col-12 col-md-8"
          type="text"
          name="searchterm"
          id="searchterm"
          placeholder="Enter address"
        />
        <input class="col-12 col-md-4 btn btn-primary" type="submit" />
      </form>
    </div>
    <!-- // search address -->

    <!-- geolocation error -->
    <div class="geoposition-error-container hide">
      <h2>Could not locate you</h2>
      <p>
        Geolocation will not be available until we receive a security certificate to
        allow us to send data securely over the web ... stay tuned! 
      </p>
      <p>
        You are welcome to manually drag the map instead for now... sorry.
      </p>
    </div>
    <!-- // geolocation error -->

    <!-- signin form -->
    <div class="signin-form-container hide">
      <div class="feedback-message alert alert-danger hide"></div>
      <div class="row">
        <form
          class="signin-form col-xs-12 col-md-6"
          action="/users/signin"
          method="POST"
        >
          <div class="form-group">
            <label for="signin-email">Email address</label>
            <input
              type="email"
              class="form-control"
              name="email"
              id="signin-email"
              placeholder="Enter email"
            />
          </div>
          <div class="form-group">
            <label for="signin-password">Password</label>
            <input
              type="password"
              class="form-control"
              name="password"
              id="signin-password"
              placeholder="Password"
            />
          </div>
          <button type="submit" class="btn btn-primary">Log In</button>
          <br />
          <br />
        </form>

        <article class="col-xs-12 col-md-6">
          <h2>Don't have an account?</h2>
          <p>
            <a href="#" class="signup-link">Sign up</a> to be able to post
            markers to this map.
          </p>
        </article>
      </div>
    </div>
    <!-- // signin form-->

    <!-- signup form -->
    <div class="signup-form-container hide">
      <div class="feedback-message alert alert-danger hide"></div>
      <div class="row">
        <form
          class="signup-form col-xs-12 col-md-6"
          action="/users/signup"
          method="POST"
        >
          <div class="form-group">
            <label for="signup-email">Email address</label>
            <input
              type="email"
              class="form-control"
              name="email"
              id="signup-email"
              placeholder="Enter email"
            />
          </div>
          <div class="form-group">
            <label for="signup-handle">Username</label>
            <input
              type="text"
              class="form-control"
              name="handle"
              id="signup-handle"
              placeholder="Enter username"
            />
          </div>
          <div class="form-group">
            <label for="signup-password">Password</label>
            <input
              type="password"
              class="form-control"
              name="password"
              id="signup-password"
              placeholder="Password"
            />
          </div>
          <button type="submit" class="btn btn-primary">Log In</button>
          <br /><br />
        </form>
        <article class="col-xs-12 col-md-6">
          <h2>Already have an account?</h2>
          <p>
            <a href="#" class="signin-link">Sign in</a> to an existing account.
          </p>
        </article>
      </div>
    </div>
    <!-- // signup form-->

    <!-- issue form -->
    <div class="issue-form-container hide">
      <!-- <div class="row">
                <h2 class="col-12">Report an issue at <span class="street-address"></span></h2>
            </div> -->
      <form
        class="issue-form"
        action="/markers/create"
        method="POST"
        enctype="multipart/form-data"
      >
        <!-- <input type="hidden" name="address" class="address" /> -->
        <input type="hidden" name="lat" class="lat" />
        <input type="hidden" name="lng" class="lng" />

        <div class="row">

          <section class="col-12 col-md-6 col-lg-4 submit-container">
            <h2>Location name</h2>
            <input type="text" class="address" name="address" placeholder="Name this location"/>
            <br /><br />
            <h2>Post a message here</h2>
            <textarea
              class="col-12"
              name="comments"
              placeholder="Any additional important details"
            ></textarea>
            <br />
            <br />
            <h2>Add photos</h2>
            <p>Up to 3 photos</p>
            <input id="files" name="files" type="file" multiple />
            <br />
            <br />
            <h2>Ready to submit?</h2>
            <input class="btn btn-primary" type="submit" value="Submit!" />
          </section>
        </div>

        <div class="map-popup-container hide">
          <p>near <strong class="street-address"></strong></p>
          <button onclick="meMarkerButtonClick()" class="btn btn-primary me-marker-go-button">Create post at this location</button>
          <p>... or drag marker somewhere else!</p>
        </div>
      </form>
    </div>
    <!-- // issue form -->

    <!-- about us -->
    <div class="about-us-container hide">
      <div class="row">
        <header class="col-xs-12 col-md-6">
          <h2>Wikistreets</h2>
          <p>Map your world.</p>
        </header>
        <article class="col-12 col-md-6">
          <h2>Features</h2>
          <ul>
            <li>Anyone can make maps</li>
            <li>Works at home or on the road</li>
            <li>Snap and map photos</li>
            <li>Share if you want</li>
            <li>Don't share if you don't want</li>
            <li>Fork (i.e. copy) any map </li>
          </ul>
        </article>
        <article class="col-12">
          <small>
            &copy; 2020. All rights reserved.
            <br />
            Created by <a href="http://plasticpast.com">Plastic Past</a>. 
            <br />
            By using this app, you agree to the following terms and conditions: that you assume all liability for your usage of this app; that we make no promises or guarantees to you of any kind;  that we will
            do whatever we want with your data;  and that we may change these terms at
            any moment when it suits us.
          </small>
        </article>
      </div>
      <!-- //row -->
    </div>
    <!-- // about us-->

    <!-- user profile -->
    <div class="user-profile-container hide">
      <div class="row">
        <header class="col-xs-12 col-md-4">
          <h2 class="handle"></h2>
          <p><span class="num-posts"></span> posts</p>
        </header>
        <article class="col-12 col-md-8">
          <h2>Recent posts</h2>
          <ul class="posts"></ul>
        </article>
      </div>
    </div>
    <!-- // user profile-->

    <!-- user profile -->
    <div class="fork-map-container hide">
      <div class="row">
        <header class="col-xs-12 col-md-4">
          <h2>Fork this map</h2>
          <ul>
            <li><span class="num-forks"></span> forks</li>
            <li><span class="num-markers"></span> markers</li>
            <li><span class="num-contributors"></span> contributors</li>
          </ul>
          <button class="btn btn-primary fork-button">Fork it</button>
        </header>
        <article class="col-12 col-md-8">
          <h2>About forks</h2>
          <p>
            Forking a map creates a clone of it that can be modified
            independently of the original.
          </p>
        </article>
      </div>
    </div>
    <!-- // user profile-->

    <!-- error message -->
    <div class="error-container hide">
      <p class="alert alert-danger error-message"></p>
    </div>
    <!-- // error-container -->
  </body>
</html>
