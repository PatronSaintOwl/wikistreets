<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <title>WikiStreets</title>
        <script type="text/javascript" src="/static/js/jquery.min.js"></script>
        <script type="text/javascript" src="/static/js/bootstrap.min.js"></script>
        <link rel="stylesheet" type="text/css" href="/static/css/main.css" />
        <link rel="stylesheet" type="text/css" href="/static/css/bootstrap.min.css" />
        <script type="text/javascript" src="/static/js/main.js"></script>    
        </head>
    <body>
        <div class="container report-issue">

            <h1 class="display-4">WikiStreets</h1>
            <form action="/new" method="POST" enctype="multipart/form-data" >
                    <p id="geo-info" class="col-12 p-3 mb-2 bg-info text-white hide">
                        Detecting your location...  please be sure to allow geolocation tracking...
                    </p>
                    <p id="geo-success" class="col-12 p-3 mb-2 bg-success text-white hide">
                        Located you!  Please verify the address.
                    </p>
                    <p id="geo-fail" class="col-12 p-3 mb-2 bg-warning text-white hide">
                        Sorry, geolocation tracking is disabled... perhaps check your device's geolocation settings.
                        <a href="/" class="locate-me" >Try again?</a>
                    </p>
                    <p id="geo-fail" class="col-12 p-3 mb-2 bg-warning text-white hide">
                        Sorry, couldn't get your location.  You can either enter it manually or
                        <a href="/" class="locate-me" >try again?</a>
                    </p>

                    <input type="hidden" name="lat" id="lat" placeholder="latitude" />
                    <input type="hidden" name="long" id="long" placeholder="longitude" />

                    <div id="address" class="row">
                        <label id='address-label' for="street" class="col-12">Nearest street address</label>
                        <br />
                        <input type="button" value="Find my location!" class="col-12 col-md-5 col-lg-3 btn btn-primary locate-me" />
                        <span class="col-12 col-md-2 col-lg-1">or ...</span>
                        <input type="text" name="street" id="street" placeholder="manually enter street address" class="col-12 col-md-5 col-lg-8" required="required" />
                    </div>

                </section>

                <section class="row">
                    <div class="col-12" id="map">map goes here</div>
                </section>
                
                <div class="row">
                    <section class="col-12 col-md-6">
                        <h2>Sidewalk issues</h2>
                        <p>Select any that apply:</p>
                        <input type="checkbox" name="sidewalk_issues" value="missing" id="sidewalk_issue_1" /><label for="sidewalk_issue_1">Missing sidewalk</label><br />
                        <input type="checkbox" name="sidewalk_issues" value="uplift" id="sidewalk_issue_2" /><label for="sidewalk_issue_2">Uplift / vertical height difference</label><br />
                        <input type="checkbox" name="sidewalk_issues" value="cars" id="sidewalk_issue_3" /><label for="sidewalk_issue_3">Cars regularly parked on sidewalk</label><br />
                        <input type="checkbox" name="sidewalk_issues" value="cracked" id="sidewalk_issue_4" /><label for="sidewalk_issue_4">Cracked surface</label><br />
                        <input type="checkbox" name="sidewalk_issues" value="ramp" id="sidewalk_issue_5" /><label for="sidewalk_issue_5">No curb ramp</label><br />
                        <input type="checkbox" name="sidewalk_issues" value="vegetation" id="sidewalk_issue_6" /><label for="sidewalk_issue_6">Overhanging vegetation</label><br />
                        <input type="checkbox" name="sidewalk_issues" value="sloping" id="sidewalk_issue_7" /><label for="sidewalk_issue_7">Cross sloping</label><br />
                        <input type="checkbox" name="sidewalk_issues" value="crosswalk" id="sidewalk_issue_8" /><label for="sidewalk_issue_8">Crosswalk problems</label><br />
                        <input type="checkbox" name="sidewalk_issues" value="cars" id="sidewalk_issue_9" /><label for="sidewalk_issue_9">Cars regularly parked on sidewalk</label><br />
                        <input type="checkbox" name="sidewalk_issues" value="obstacle" id="sidewalk_issue_10" /><label for="sidewalk_issue_10">Other obstacle in sidewalk</label><br />
                    </section>

                    <section class="col-12 col-md-6">
                        <h2>Road issues</h2>
                        <p>Select any that apply:</p>
                        <input type="checkbox" name="road_issues" value="hole" id="road_issue_1" /><label for="road_issue_1">Pot hole</label><br />
                        <input type="checkbox" name="road_issues" value="cracked" id="road_issue_2" /><label for="road_issue_2">Cracked surface</label><br />
                        <input type="checkbox" name="road_issues" value="obstacle" id="road_issue_3" /><label for="road_issue_3">Obstacle in road</label><br />
                        <input type="checkbox" name="road_issues" value="uplift" id="road_issue_4" /><label for="road_issue_4">Uplift / vertical height difference</label><br />
                        <input type="checkbox" name="road_issues" value="cracked" id="road_issue_5" /><label for="road_issue_5">Other road surface issue</label><br />
                        <input type="checkbox" name="road_issues" value="sewer" id="road_issue_6" /><label for="road_issue_6">Dangerous sewer grate</label><br />
                    </section>
                </div>

                <section>
                    <h2>Photos</h2>
                    <input id="files" name="files" type="file" multiple />
                </section>

                <section>
                        <h2>Comments</h2>
                        <textarea class="col-12" name="comments" placeholder="Any additional important details"></textarea>
                </section>

                <section>
                    <h2>Ready to submit?</h2>
                    <input class="btn btn-primary" type="submit" value="Submit!" />
                </section>
            </form>
            
        </div>
        <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyADajAi4t5UajrNOikURhipU3JmOwpQT8s&callback=initMap" async defer></script>

    </body>
</html>
